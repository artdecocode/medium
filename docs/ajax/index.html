{"title":"Main Page","content":"<h1>Main Page</h1>\n\nWhat if we could import in JS programs like this:\n\n<pre><code class=\"js hljs\"><span class=\"hljs-keyword\">import</span> catchment.Catchment\n<span class=\"hljs-keyword\">import</span> stream.Readable\n\n<span class=\"hljs-keyword\">const</span> sc = <span class=\"hljs-keyword\">new</span> Catchment()\n<span class=\"hljs-keyword\">const</span> r = <span class=\"hljs-keyword\">new</span> Readable() {\n  read() {\n    <span class=\"hljs-keyword\">this</span>.push(<span class=\"hljs-string\">'ok'</span>)\n    <span class=\"hljs-keyword\">this</span>.push(<span class=\"hljs-literal\">null</span>)\n  }\n}</code></pre>\n\nThe problem is that ATM it is not even understood by the language parsers but this is what JS future will look like.\n\n<p class=\"SectionBreak\"><a href=\"#top\" title=\"Back To Top\"><img src=\"section-breaks/0.svg\" alt=\"Back To Top\" /></a></p>\n\n<h2>Uploading a file as block blob</h2>\n\n<pre><code class=\"js hljs\"><span class=\"hljs-keyword\">async</span> uploadBlob() {\n  <span class=\"hljs-keyword\">const</span> { file } = <span class=\"hljs-keyword\">this</span>.props\n  <span class=\"hljs-comment\">/**\n    * @type {import('azure-storage').BlobService}\n    */</span>\n  <span class=\"hljs-keyword\">const</span> blobService = <span class=\"hljs-keyword\">this</span>.props.blobService\n  <span class=\"hljs-keyword\">if</span> (blobService) {\n    <span class=\"hljs-keyword\">const</span> blockSize = file.size &gt; <span class=\"hljs-number\">1024</span> * <span class=\"hljs-number\">1024</span> * <span class=\"hljs-number\">32</span> ? <span class=\"hljs-number\">1024</span> * <span class=\"hljs-number\">1024</span> * <span class=\"hljs-number\">4</span> : <span class=\"hljs-number\">1024</span> * <span class=\"hljs-number\">512</span>\n    blobService.singleBlobPutThresholdInBytes = blockSize\n    <span class=\"hljs-keyword\">const</span> speedSummary = blobService.createBlockBlobFromBrowserFile(\n      <span class=\"hljs-string\">'web-uploads'</span>, file.name, file,\n      { blockSize },\n      (error, result) =&gt; {\n        <span class=\"hljs-keyword\">this</span>.setState({ <span class=\"hljs-attr\">uploaded</span>: <span class=\"hljs-literal\">true</span>, <span class=\"hljs-attr\">progress</span>: <span class=\"hljs-literal\">null</span> })\n        <span class=\"hljs-keyword\">if</span>(error) {\n          <span class=\"hljs-keyword\">this</span>.setState({ <span class=\"hljs-attr\">error</span>: error.message })\n        } <span class=\"hljs-keyword\">else</span> {\n          <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-string\">'Upload is successful'</span>)\n        }\n      })\n    speedSummary.on(<span class=\"hljs-string\">'progress'</span>, () =&gt; {\n      <span class=\"hljs-keyword\">const</span> progress = speedSummary.getCompletePercent()\n      <span class=\"hljs-built_in\">console</span>.log(progress)\n      <span class=\"hljs-keyword\">this</span>.updateProgress(progress)\n    })\n  }\n}</code></pre>\n\n<p class=\"SectionBreak\"><a href=\"#top\" title=\"Back To Top\"><img src=\"section-breaks/1.svg\" alt=\"Back To Top\" /></a></p>\n\n<h2>Introduction</h2>\n\nThis is introduction.\n\n<p class=\"SectionBreak\"><a href=\"#top\" title=\"Back To Top\"><img src=\"section-breaks/2.svg\" alt=\"Back To Top\" /></a></p>\n\n<pre><code class=\"js hljs\"><span class=\"hljs-keyword\">if</span>(xhr.readyState == <span class=\"hljs-number\">3</span>) {\n  <span class=\"hljs-keyword\">const</span> newData = xhr.response.substr(xhr.seenBytes)\n  xhr.seenBytes = xhr.responseText.length\n  lastData = newData\n  <span class=\"hljs-keyword\">if</span> (lastData) {\n    <span class=\"hljs-keyword\">try</span> {\n      lastData = <span class=\"hljs-built_in\">JSON</span>.parse(lastData)\n    } <span class=\"hljs-keyword\">catch</span> (err) {<span class=\"hljs-comment\">/**/</span>}\n  }\n  <span class=\"hljs-keyword\">return</span>\n}</code></pre>\n","file":"index"}